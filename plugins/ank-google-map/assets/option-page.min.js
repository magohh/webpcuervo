!function(e,o,t){"use strict";function a(e){var o=s.val().split("?",1);s.val(o[0]+"?page=agm_settings#top#"+e)}function n(e){return o.querySelector("#"+e)||o.getElementById(e)}function l(){var a=Math.max(o.documentElement.clientWidth,e.innerWidth||0),l=new google.maps.LatLng(parseFloat(p.map.lat),parseFloat(p.map.lng)),i={draggable:a>480||!r(),center:l,streetViewControl:!0,zoom:parseInt(p.map.zoom),mapTypeId:google.maps.MapTypeId.ROADMAP,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_CENTER},mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU,position:google.maps.ControlPosition.TOP_RIGHT}};m=new google.maps.Map(d,i);var g=t("#agm-lat"),s=t("#agm-lng"),c=t("#agm-zoom"),v=t("#agm-zoom-val"),u=new google.maps.Marker({draggable:!0,position:l,map:m,title:"Current Location"});google.maps.event.addListener(m,"rightclick",function(e){g.val(e.latLng.lat()),s.val(e.latLng.lng()),u.setTitle("Selected Location"),u.setPosition(e.latLng)}),google.maps.event.addListener(u,"dragend",function(e){g.val(e.latLng.lat()),s.val(e.latLng.lng())}),google.maps.event.addListener(m,"zoom_changed",function(){c.val(m.getZoom()),v.html(m.getZoom())}),google.maps.event.addListener(m,"center_changed",function(){var e=m.getCenter();g.val(e.lat()),s.val(e.lng())}),google.maps.event.addListener(m,"idle",function(){google.maps.event.trigger(m,"resize")}),c.on("input click",function(){v.html(this.value),m.setZoom(parseInt(c.val()))});var h=new google.maps.places.Autocomplete(n("agm-search"));google.maps.event.addListener(h,"place_changed",function(){var e=h.getPlace();e.geometry&&(m.panTo(e.geometry.location),u.setPosition(e.geometry.location),m.setZoom(15),u.setTitle(e.formatted_address))})}function r(){return"ontouchstart"in e||navigator.maxTouchPoints}var i=e.location.hash.replace("#top#",""),g=t("h2#wpt-tabs"),s=t("form#agm-form").find('input:hidden[name="_wp_http_referer"]'),c=t("section.tab-content");""!==i&&0!=t("#"+i).length||(i=c.attr("id")),t("#"+i).addClass("active"),t("#"+i+"-tab").addClass("nav-tab-active"),a(i),g.find("a.nav-tab").on("click.agm",function(e){e.stopPropagation(),g.find("a.nav-tab").removeClass("nav-tab-active"),c.removeClass("active");var o=t(this).attr("id").replace("-tab","");t("#"+o).addClass("active"),t(this).addClass("nav-tab-active"),a(o)});var m,p=e._agmOpt,d=n("agm-canvas");"object"==typeof google&&google.maps?google.maps.event.addDomListener(e,"load",l):d.innerHTML='<h4 style="text-align: center;color: #ba060b">Failed to load Google Map.<br>Refresh this page and try again.<br>Check your internet connection as well.</h4>',t("#wpt-loc-tab").on("click.agm",function(){try{google.maps.event.trigger(m,"resize")}catch(e){console.error("Google map not loaded yet")}}),t("#agm-search").on("keydown",function(e){return 13==e.keyCode||13==e.which?(e.preventDefault(),e.stopPropagation(),!1):void 0});try{t("#agm-border-color").wpColorPicker()}catch(v){console.error("WP Color Picker not loaded")}}(window,document,jQuery);